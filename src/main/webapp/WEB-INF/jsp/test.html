<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script>
        $(function () {
            $("#registerName").blur(function() {
                var user = {username: $("#registerName")};
                $.post(
                    {
                        url: "checkName",
                        data: user,
                        success: function(data) {
                            if (data === "exist") {
                                $("span.errorMessage").html("用户名已存在");
                            }
                        }
                    }
                )
            });
        })
    </script>
</head>
<body>

<div style="max-width:400px;margin:100px auto;" id="userDiv">

    <div id="errorDiv" style="display:none" class="alert alert-danger alert-dismissable">
        <span id="errorMessage"></span>
    </div>

    <ul class="nav nav-tabs">
        <li role="presentation" id="userInfoTab" class="active"><a href="#userInfoDiv" data-toggle="tab">个人信息</a></li>
        <li role="presentation" id="passwordTab"><a href="#passwordDiv" data-toggle="tab">修改密码</a></li>
    </ul>

    <div class="tab-content">
        <div id="userInfoDiv" class="tab-pane fade in active">
            <form method="post" action="editUser">
                <br>
                <br>
                <input name="username" class="form-control" placeholder="用户名" required="required" value="${user.username}">
                <br>
                <input name="userType" class="form-control" placeholder="用户类型" value="${user.userType}" readonly="readonly">
                <br>
                <select class="form-control" name="gender">
                    <option value="">性别（选填）</option>
                    <option value="男">男</option>
                    <option value="女">女</option>
                </select>                <br>
                <input name="phone" class="form-control" placeholder="联系方式（选填）" value="${user.phone}">
                <br>
                <input name="address" class="form-control" placeholder="地址（选填）" value="${user.address}">
                <br>
                <br>
                <button class="btn btn-lg btn-info btn-block " type="submit">更新</button>
            </form>
        </div>

        <div id="passwordDiv" class="tab-pane fade">
            <form method="post" action="editPassword">
                <br/>
                <br/>
                <input type="password" id="oldPassword" name="oldPassword" class="form-control" placeholder="旧密码" required="required">
                <br>
                <input type="password" name="password" class="form-control" placeholder="新密码" required="required">
                <br/>
                <br/>
                <button class="btn btn-lg btn-info btn-block " type="submit">更新</button>
            </form>
        </div>
    </div>
</div>

<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>